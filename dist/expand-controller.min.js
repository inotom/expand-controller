/**
 * @inotom/expand-controller v1.0.0 inotom <wdf7322@yahoo.co.jp> | MIT
 */

var ExpandController=function(t){"use strict";var e=function(t,e){t.setAttribute("aria-expanded",e)},a=function(t,e){t.forEach((function(t){var a=document.getElementById(t);a&&(n(a,e),o(a,e))}))},n=function(t,e){t.setAttribute("aria-hidden",!e)},r=function(t){t.style.height="auto";var e=t.clientHeight;t.dataset.height=e},i=function(t,e){var a=e?t.dataset.height+"px":0;t.style.height=a},o=function(t,e){"false"!==t.dataset.enableHeightStyle&&(t.dataset.height||r(t),i(t,e))};return t.expandController=function(){var t=document.querySelectorAll(".js-expand-controller[aria-controls]");Array.prototype.slice.call(t,0).forEach((function(t){var n=t.getAttribute("aria-controls").split(" "),r=function(r){var i;((null===(i=t.dataset.disableEvents)||void 0===i?void 0:i.split(" "))||[]).forEach((function(t){switch(t){case"prevent":r.preventDefault();break;case"stop":r.stopPropagation()}}));var o,l,c=(l=!("true"===(o=t).getAttribute("aria-expanded")),e(o,l),l);a(n,c)};t.addEventListener("click",r),"button"===t.getAttribute("role")&&t.addEventListener("keydown",(function(t){13!==t.keyCode&&32!==t.keyCode||r(t)}));var i=t.getAttribute("aria-expanded"),o=null!==i&&"true"===i;e(t,o),a(n,o)})),window.addEventListener("resize",(function(){Array.prototype.slice.call(t,0).forEach((function(t){t.getAttribute("aria-controls").split(" ").forEach((function(t){var e=document.getElementById(t);e&&"false"!==e.dataset.enableHeightStyle&&(r(e),i(e,"false"===e.getAttribute("aria-hidden")))}))}))}))},t}({});
